<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>搭建CTF平台 | EasyCTF
</title><meta name=description content="Learning CTF..."><script>window.siteConfig=JSON.parse('{"anchor_icon":null,"clipboard":{"copyright":{"content":"本文版权：本博客所有文章除特别声明外，均采用 BY-NC-SA 许可协议。转载请注明出处！","count":50,"enable":false},"fail":"复制失败 (ﾟ⊿ﾟ)ﾂ","success":"复制成功(*^▽^*)"},"code_block":{"expand":true},"icon_font":"4552607_bq08450reo","outdate":{"daysago":180,"enable":false,"message":"本文最后更新于 {time}，请注意文中内容可能已经发生变化。"}}')</script><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css?family=Mulish:400,400italic,700,700italic%7cNoto%20Serif%20SC:400,400italic,700,700italic%7c&amp;display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Mulish:400,400italic,700,700italic%7cNoto%20Serif%20SC:400,400italic,700,700italic%7c&amp;display=swap" media=print onload='this.media="all"'><link rel=preload href=//at.alicdn.com/t/c/font_4552607_bq08450reo.woff2 as=font type=font/woff2 crossorigin=anonymous><meta property="og:type" content="website"><meta property="og:title" content="搭建CTF平台 | EasyCTF"><meta property="og:description" content="Learning CTF..."><meta property="og:url" content="https://easyctf-one.github.io/post/%E6%90%AD%E5%BB%BActf%E5%B9%B3%E5%8F%B0/"><meta property="og:site_name" content="EasyCTF Blog"><meta property="og:image" content="/"><meta property="article:author" content="EasyCTF"><meta property="article:published_time" content="2025-01-07T21:01:51+08:00"><meta property="article:modified_time" content="2025-01-07T21:01:51+08:00"><meta name=twitter:card content="summary"><meta name=twitter:image content="/"><link rel="shortcut icon" href=/favicon.ico><link rel=stylesheet href=/css/main.min.6ca6f999a78d1f984ffd36d0db179c0960e9a4bf05af6c4e85d60e5a2167ce0c.css><link rel=preload as=style href=https://npm.webcache.cn/photoswipe@5.4.4/dist/photoswipe.css onload='this.onload=null,this.rel="stylesheet"'><link rel=preload as=style href=https://npm.webcache.cn/katex@0.16.9/dist/katex.min.css onload='this.onload=null,this.rel="stylesheet"'><script src=https://npm.webcache.cn/pace-js@1.2.4/pace.min.js integrity=sha384-k6YtvFUEIuEFBdrLKJ3YAUbBki333tj1CSUisai5Cswsg9wcLNaPzsTHDswp4Az8 crossorigin=anonymous></script><link rel=stylesheet href=https://npm.webcache.cn/@reimujs/aos@0.1.0/dist/aos.css></head><body><div id=copy-tooltip style="pointer-events:none;opacity:0;transition:all .2s ease;position:fixed;top:50%;left:50%;z-index:999;transform:translate(-50%,-50%);color:#fff;background:rgba(0,0,0,.5);padding:10px 15px;border-radius:10px"></div><div id=container><div id=wrap><div id=header-nav><nav id=main-nav><span class=main-nav-link-wrap><div class='main-nav-icon icon rotate'>&#xe62b;</div><a class=main-nav-link href=/>首页</a>
</span><span class=main-nav-link-wrap><div class='main-nav-icon icon rotate'>&#xe62b;</div><a class=main-nav-link href=/archives>归档</a>
</span><span class=main-nav-link-wrap><div class='main-nav-icon icon rotate'>&#xe62b;</div><a class=main-nav-link href=/about>关于</a>
</span><span class=main-nav-link-wrap><div class='main-nav-icon icon rotate'>&#xe62b;</div><a class=main-nav-link href=/friend>友链</a>
</span><a id=main-nav-toggle class=nav-icon></a></nav><nav id=sub-nav><a id=nav-search-btn class="nav-icon popup-trigger" title=搜索></a></nav></div><header id=header><picture></picture><img fetchpriority=high src=/images/banner.jpg alt=搭建CTF平台><div id=header-outer><div id=header-title><a href=/ id=logo><h1 data-aos=slide-up>搭建CTF平台</h1></a><h2 id=subtitle-wrap data-aos=slide-down></h2></div></div></header><div id=content class=sidebar-right><aside id=sidebar><div class="sidebar-wrapper wrap-sticky"><div class=sidebar-wrap data-aos=fade-up><div class=sidebar-toc-sidebar><div class=sidebar-toc><h3 class=toc-title>文章目录</h3><div class="sidebar-toc-wrapper toc-div-class"><nav id=TableOfContents><ul><li><a href=#gzctf>GZCTF</a></li><li><a href=#出题>出题</a></li></ul></nav></div></div></div><div class="sidebar-common-sidebar hidden"><div class=sidebar-author><img data-src=/avatar/avatar.png data-sizes=auto alt=EasyCTF class=lazyload><div class=sidebar-author-name>EasyCTF</div><div class=sidebar-description>Learning CTF...</div></div><div class=sidebar-state><div class=sidebar-state-article><div>文章</div><div class=sidebar-state-number>5</div></div><div class=sidebar-state-category><div>分类</div><div class=sidebar-state-number>0</div></div><div class=sidebar-state-tag><div>标签</div><div class=sidebar-state-number>0</div></div></div><div class=sidebar-social></div><div class=sidebar-menu><div class=sidebar-menu-link-wrap><a class=sidebar-menu-link-dummy href=/ aria-label=首页></a><div class='sidebar-menu-icon icon rotate'>&#xe62b;</div><div class=sidebar-menu-link>首页</div></div><div class=sidebar-menu-link-wrap><a class=sidebar-menu-link-dummy href=/archives aria-label=归档></a><div class='sidebar-menu-icon icon rotate'>&#xe62b;</div><div class=sidebar-menu-link>归档</div></div><div class=sidebar-menu-link-wrap><a class=sidebar-menu-link-dummy href=/about aria-label=关于></a><div class='sidebar-menu-icon icon rotate'>&#xe62b;</div><div class=sidebar-menu-link>关于</div></div><div class=sidebar-menu-link-wrap><a class=sidebar-menu-link-dummy href=/friend aria-label=友链></a><div class='sidebar-menu-icon icon rotate'>&#xe62b;</div><div class=sidebar-menu-link>友链</div></div></div></div><div class=sidebar-btn-wrapper style=position:static><div class="sidebar-toc-btn current"></div><div class=sidebar-common-btn></div></div></div></div><div class=sidebar-widget></div></aside><section id=main><article class="h-entry article" itemprop=blogPost itemscope itemtype=https://schema.org/BlogPosting><div class=article-inner data-aos=fade-up><div class=article-meta><div class=article-date><a href=https://easyctf-one.github.io/post/%E6%90%AD%E5%BB%BActf%E5%B9%B3%E5%8F%B0/ class=article-date-link data-aos=zoom-in><time datetime="2025-01-07 21:01:51 +0800 +0800" itemprop=datePublished>2025-01-07</time>
<time style=display:none id=post-update-time>2025-01-07</time></a></div><div class=article-category></div></div><div class=hr-line></div><div class="e-content article-entry" itemprop=articleBody><h2 id=gzctf><a class=header-anchor href=#gzctf></a>GZCTF</h2><p>在当前文件夹下（就是你GZCTF靶场的配置目录），创建 <strong>appsettings.json</strong>：</p><p>vim appsettings.json</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;AllowedHosts&#34;</span><span class=p>:</span> <span class=s2>&#34;*&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;ConnectionStrings&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;Database&#34;</span><span class=p>:</span> <span class=s2>&#34;Host=db:5432;Database=gzctf;Username=postgres;Password=@glj20030528&#34;</span><span class=p>,</span>    <span class=o>//</span> <span class=err>此处</span><span class=n>Password内容可以自定义</span><span class=err>（安全起见，至少包含数字及字母大小写）</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;RedisCache&#34;</span><span class=p>:</span> <span class=s2>&#34;cache:6379,abortConnect=false&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;EmailConfig&#34;</span><span class=p>:</span> <span class=p>{</span>                           <span class=o>//</span> <span class=err>邮件配置，用于找回密码之类的，这里就用</span><span class=mi>163</span><span class=err>举例</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;SendMailAddress&#34;</span><span class=p>:</span> <span class=s2>&#34;1186437492@qq.com&#34;</span><span class=p>,</span>    <span class=o>//</span> <span class=err>邮件发送者</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;UserName&#34;</span><span class=p>:</span> <span class=s2>&#34;1186437492@qq.com&#34;</span><span class=p>,</span>  <span class=o>//</span> <span class=n>SMTP用户名</span><span class=err>，就是你开启</span><span class=n>SMTP的邮箱</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;Password&#34;</span><span class=p>:</span> <span class=s2>&#34;wmqxnajprwqrbacb&#34;</span><span class=p>,</span> <span class=o>//</span> <span class=err>你得</span><span class=n>STMP服务器密码</span><span class=err>，唯一，</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;Smtp&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;Host&#34;</span><span class=p>:</span> <span class=s2>&#34;smtp.qq.com&#34;</span><span class=p>,</span>   <span class=o>//</span> <span class=mi>163</span><span class=err>邮箱的</span><span class=n>stmp服务器地址</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;Port&#34;</span><span class=p>:</span> <span class=mi>465</span>         <span class=o>//</span> <span class=n>stmp端口</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;XorKey&#34;</span><span class=p>:</span> <span class=s2>&#34;@glj20030528&#34;</span><span class=p>,</span>          <span class=o>//</span> <span class=err>此处</span><span class=n>XorKey可以自定义</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;ContainerProvider&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;Type&#34;</span><span class=p>:</span> <span class=s2>&#34;Docker&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;PortMappingType&#34;</span><span class=p>:</span> <span class=s2>&#34;Default&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;EnableTrafficCapture&#34;</span><span class=p>:</span> <span class=bp>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;PublicEntry&#34;</span><span class=p>:</span> <span class=s2>&#34;192.168.103.22&#34;</span><span class=p>,</span>      <span class=o>//</span> <span class=err>域名或</span><span class=n>IP配置</span><span class=err>，用于容器生成</span><span class=p>,</span><span class=err>域名不带</span><span class=n>http</span><span class=o>/</span><span class=n>https</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;DockerConfig&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;SwarmMode&#34;</span><span class=p>:</span> <span class=bp>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;Uri&#34;</span><span class=p>:</span> <span class=s2>&#34;unix:///var/run/docker.sock&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;RequestLogging&#34;</span><span class=p>:</span> <span class=bp>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;DisableRateLimit&#34;</span><span class=p>:</span> <span class=bp>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;RegistryConfig&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;UserName&#34;</span><span class=p>:</span> <span class=s2>&#34;DOCKER_USERNAME&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;Password&#34;</span><span class=p>:</span> <span class=s2>&#34;DOCKER_PASSWORD&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;ServerAddress&#34;</span><span class=p>:</span> <span class=s2>&#34;DOCKER_ADDRESS&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;CaptchaConfig&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;Provider&#34;</span><span class=p>:</span> <span class=s2>&#34;None&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;SiteKey&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;SecretKey&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;GoogleRecaptcha&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;VerifyAPIAddress&#34;</span><span class=p>:</span> <span class=s2>&#34;https://www.recaptcha.net/recaptcha/api/siteverify&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;RecaptchaThreshold&#34;</span><span class=p>:</span> <span class=s2>&#34;0.5&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;ForwardedOptions&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;ForwardedHeaders&#34;</span><span class=p>:</span> <span class=mi>5</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;ForwardLimit&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;ForwardedForHeaderName&#34;</span><span class=p>:</span> <span class=s2>&#34;X-Forwarded-For&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;TrustedNetworks&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;0.0.0.0/0&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>在当前文件夹下，创建 <strong>docker-compose.yml</strong>：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>vim docker-compose.yml
</span></span></code></pre></div><p>将以下内容保存为 <strong>docker-compose.yml</strong> 文件，并替换为你的初始化参数（注释需删除，保存后可能会报错）：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=n>version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;3.7&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>services</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>gzctf</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>image</span><span class=p>:</span><span class=w> </span><span class=n>registry</span><span class=p>.</span><span class=n>cn</span><span class=o>-</span><span class=n>shanghai</span><span class=p>.</span><span class=n>aliyuncs</span><span class=p>.</span><span class=n>com</span><span class=o>/</span><span class=n>gztime</span><span class=o>/</span><span class=n>gzctf</span><span class=p>:</span><span class=n>latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>restart</span><span class=p>:</span><span class=w> </span><span class=n>always</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>environment</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=o>-</span><span class=w> </span><span class=s2>&#34;GZCTF_ADMIN_PASSWORD=&lt;Password&gt;&#34;</span><span class=w>          </span><span class=c1># &lt;Password&gt;换成账户管理员密码，管理员账户为admin
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>      </span><span class=c1># choose your backend language `en_US` / `zh_CN` / `ja_JP`
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>      </span><span class=o>-</span><span class=w> </span><span class=s2>&#34;LC_ALL=zh_CN.UTF-8&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=o>-</span><span class=w> </span><span class=s2>&#34;80:8080&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>volumes</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=o>-</span><span class=w> </span><span class=s2>&#34;./data/files:/app/files&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=o>-</span><span class=w> </span><span class=s2>&#34;./appsettings.json:/app/appsettings.json:ro&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c1># - &#34;./kube-config.yaml:/app/kube-config.yaml:ro&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>      </span><span class=o>-</span><span class=w> </span><span class=s2>&#34;/var/run/docker.sock:/var/run/docker.sock&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>depends_on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=o>-</span><span class=w> </span><span class=n>db</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=o>-</span><span class=w> </span><span class=n>cache</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>cache</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>image</span><span class=p>:</span><span class=w> </span><span class=n>redis</span><span class=p>:</span><span class=n>alpine</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>restart</span><span class=p>:</span><span class=w> </span><span class=n>always</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>db</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>image</span><span class=p>:</span><span class=w> </span><span class=n>postgres</span><span class=p>:</span><span class=n>alpine</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>restart</span><span class=p>:</span><span class=w> </span><span class=n>always</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>environment</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=o>-</span><span class=w> </span><span class=s2>&#34;POSTGRES_PASSWORD=GzctfAuto233&#34;</span><span class=w>          </span><span class=c1># 数据库密码，务必要和appsettings.json中的配置一致
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=n>volumes</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=o>-</span><span class=w> </span><span class=s2>&#34;./data/db:/var/lib/postgresql/data&#34;</span><span class=w>
</span></span></span></code></pre></div><p>修改后的</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>version</span><span class=p>:</span> <span class=s2>&#34;4.7&#34;</span>
</span></span><span class=line><span class=cl><span class=n>services</span><span class=p>:</span>
</span></span><span class=line><span class=cl>  <span class=n>gzctf</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>image</span><span class=p>:</span> <span class=n>registry</span><span class=o>.</span><span class=n>cn</span><span class=o>-</span><span class=n>shanghai</span><span class=o>.</span><span class=n>aliyuncs</span><span class=o>.</span><span class=n>com</span><span class=o>/</span><span class=n>gztime</span><span class=o>/</span><span class=n>gzctf</span><span class=p>:</span><span class=n>latest</span>
</span></span><span class=line><span class=cl>    <span class=n>restart</span><span class=p>:</span> <span class=n>always</span>
</span></span><span class=line><span class=cl>    <span class=n>environment</span><span class=p>:</span>
</span></span><span class=line><span class=cl>      <span class=o>-</span> <span class=s2>&#34;GZCTF_ADMIN_PASSWORD=@glj20030528&#34;</span>
</span></span><span class=line><span class=cl>      <span class=o>-</span> <span class=s2>&#34;LC_ALL=zh_CN.UTF-8&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>ports</span><span class=p>:</span>
</span></span><span class=line><span class=cl>      <span class=o>-</span> <span class=s2>&#34;80:8080&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>volumes</span><span class=p>:</span>
</span></span><span class=line><span class=cl>      <span class=o>-</span> <span class=s2>&#34;./data/files:/app/files&#34;</span>
</span></span><span class=line><span class=cl>      <span class=o>-</span> <span class=s2>&#34;./appsettings.json:/app/appsettings.json:ro&#34;</span>
</span></span><span class=line><span class=cl>      <span class=o>-</span> <span class=s2>&#34;/var/run/docker.sock:/var/run/docker.sock&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>depends_on</span><span class=p>:</span>
</span></span><span class=line><span class=cl>      <span class=o>-</span> <span class=n>db</span>
</span></span><span class=line><span class=cl>      <span class=o>-</span> <span class=n>cache</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>cache</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>image</span><span class=p>:</span> <span class=n>redis</span><span class=p>:</span><span class=n>alpine</span>
</span></span><span class=line><span class=cl>    <span class=n>restart</span><span class=p>:</span> <span class=n>always</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>db</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>image</span><span class=p>:</span> <span class=n>postgres</span><span class=p>:</span><span class=n>alpine</span>
</span></span><span class=line><span class=cl>    <span class=n>restart</span><span class=p>:</span> <span class=n>always</span>
</span></span><span class=line><span class=cl>    <span class=n>environment</span><span class=p>:</span>
</span></span><span class=line><span class=cl>      <span class=o>-</span> <span class=s2>&#34;POSTGRES_PASSWORD=@glj20030528&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>volumes</span><span class=p>:</span>
</span></span><span class=line><span class=cl>      <span class=o>-</span> <span class=s2>&#34;./data/db:/var/lib/postgresql/data&#34;</span>
</span></span></code></pre></div><p>在当前文件夹执行命令，构建并启动GZCTF：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>docker compose up -d
</span></span></code></pre></div><p>等他安装完成就好，这里我已经安装好了</p><h2 id=出题><a class=header-anchor href=#%e5%87%ba%e9%a2%98></a>出题</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo docker build -t gljbeijing/web1 .
</span></span><span class=line><span class=cl>docker tag a6fab83d569b crpi-722ex2zgxnu1ctd3.cn-beijing.personal.cr.aliyuncs.com/gljbeijing/web1:latest
</span></span><span class=line><span class=cl>docker push crpi-722ex2zgxnu1ctd3.cn-beijing.personal.cr.aliyuncs.com/gljbeijing/web1:latest
</span></span></code></pre></div><p>Dockerfile文件</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>FROM</span> <span class=n>ctftraining</span><span class=o>/</span><span class=n>base_image_nginx_mysql_php_56</span>
</span></span><span class=line><span class=cl><span class=n>COPY</span> <span class=n>src</span> <span class=o>/</span><span class=k>var</span><span class=o>/</span><span class=n>www</span><span class=o>/</span><span class=n>html</span>
</span></span><span class=line><span class=cl><span class=n>RUN</span> <span class=n>mv</span> <span class=o>/</span><span class=k>var</span><span class=o>/</span><span class=n>www</span><span class=o>/</span><span class=n>html</span><span class=o>/</span><span class=n>flag</span><span class=o>.</span><span class=n>sh</span> <span class=o>/</span> \
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> <span class=n>chmod</span> <span class=o>+</span><span class=n>x</span> <span class=o>/</span><span class=n>flag</span><span class=o>.</span><span class=n>sh</span>
</span></span></code></pre></div><p>flag文件</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=o>&lt;?</span><span class=nx>php</span>
</span></span><span class=line><span class=cl><span class=k>echo</span>  <span class=nx>getenv</span><span class=p>(</span><span class=s1>&#39;GZCTF_FLAG&#39;</span><span class=p>)</span> <span class=o>?:</span> <span class=s1>&#39;flag&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=cp>?&gt;</span><span class=err>
</span></span></span></code></pre></div><p>sh文件</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=cp>#!/bin/sh
</span></span></span><span class=line><span class=cl><span class=cp></span>sed -i <span class=s2>&#34;s/flag/</span><span class=nv>$GZCTF_FLAG</span><span class=s2>/&#34;</span> /var/www/html/f1ag_is_he2e.php
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>GZCTF_FLAG</span><span class=o>=</span><span class=s2>&#34;&#34;</span>
</span></span></code></pre></div></div><footer class=article-footer><div class=share-wrapper><a href="https://www.facebook.com/sharer/sharer.php?u=https://easyctf-one.github.io/post/%E6%90%AD%E5%BB%BActf%E5%B9%B3%E5%8F%B0/" target=_blank rel="noopener noreferrer" title=搭建CTF平台><div class="share-icon icon icon-facebook"></div></a><a href="https://twitter.com/intent/tweet?url=https://easyctf-one.github.io/post/%E6%90%AD%E5%BB%BActf%E5%B9%B3%E5%8F%B0/&amp;text=%e6%90%ad%e5%bb%baCTF%e5%b9%b3%e5%8f%b0&amp;via=https://easyctf-one.github.io/" target=_blank rel="noopener noreferrer" title=搭建CTF平台><div class="share-icon icon icon-twitter"></div></a><a href="https://www.linkedin.com/shareArticle?url=https://easyctf-one.github.io/post/%E6%90%AD%E5%BB%BActf%E5%B9%B3%E5%8F%B0/&amp;title=%e6%90%ad%e5%bb%baCTF%e5%b9%b3%e5%8f%b0&amp;summary=%20GZCTF%20%e5%9c%a8%e5%bd%93%e5%89%8d%e6%96%87%e4%bb%b6%e5%a4%b9%e4%b8%8b%ef%bc%88%e5%b0%b1%e6%98%af%e4%bd%a0GZCTF%e9%9d%b6%e5%9c%ba%e7%9a%84%e9%85%8d%e7%bd%ae%e7%9b%ae%e5%bd%95%ef%bc%89%ef%bc%8c%e5%88%9b%e5%bb%ba%20appsettings.json%ef%bc%9a%0avim%20appsettings.json%0a%7b%20&amp;#34;AllowedHosts&amp;#34;:%20&amp;#34;*&amp;#34;,%20&amp;#34;ConnectionStrings&amp;#34;:%20%7b%20&amp;#34;Database&amp;#34;:%20&amp;#34;Host=db:5432;Database=gzctf;Username=postgres;Password=@glj20030528&amp;#34;,%20//%20%e6%ad%a4%e5%a4%84Password%e5%86%85%e5%ae%b9%e5%8f%af%e4%bb%a5%e8%87%aa%e5%ae%9a%e4%b9%89%ef%bc%88%e5%ae%89%e5%85%a8%e8%b5%b7%e8%a7%81%ef%bc%8c%e8%87%b3%e5%b0%91%e5%8c%85%e5%90%ab%e6%95%b0%e5%ad%97%e5%8f%8a%e5%ad%97%e6%af%8d%e5%a4%a7%e5%b0%8f%e5%86%99%ef%bc%89%20%e2%80%a6&amp;mini=true&amp;ro=true" target=_blank rel="noopener noreferrer" title=搭建CTF平台><div class="share-icon icon icon-linkedin"></div></a><a href="https://www.reddit.com/submit?url=https://easyctf-one.github.io/post/%E6%90%AD%E5%BB%BActf%E5%B9%B3%E5%8F%B0/&amp;title=%e6%90%ad%e5%bb%baCTF%e5%b9%b3%e5%8f%b0" target=_blank rel="noopener noreferrer" title=搭建CTF平台><div class="share-icon icon icon-reddit"></div></a><a href="http://service.weibo.com/share/share.php?url=https://easyctf-one.github.io/post/%E6%90%AD%E5%BB%BActf%E5%B9%B3%E5%8F%B0/&amp;appkey=&amp;title=%e6%90%ad%e5%bb%baCTF%e5%b9%b3%e5%8f%b0&amp;pic=&amp;ralateUid=" target=_blank rel="noopener noreferrer" title=搭建CTF平台><div class="share-icon icon icon-weibo"></div></a><a href="http://connect.qq.com/widget/shareqq/index.html?url=https://easyctf-one.github.io/post/%E6%90%AD%E5%BB%BActf%E5%B9%B3%E5%8F%B0/&amp;title=%e6%90%ad%e5%bb%baCTF%e5%b9%b3%e5%8f%b0&amp;desc=%20GZCTF%20%e5%9c%a8%e5%bd%93%e5%89%8d%e6%96%87%e4%bb%b6%e5%a4%b9%e4%b8%8b%ef%bc%88%e5%b0%b1%e6%98%af%e4%bd%a0GZCTF%e9%9d%b6%e5%9c%ba%e7%9a%84%e9%85%8d%e7%bd%ae%e7%9b%ae%e5%bd%95%ef%bc%89%ef%bc%8c%e5%88%9b%e5%bb%ba%20appsettings.json%ef%bc%9a%0avim%20appsettings.json%0a%7b%20&amp;#34;AllowedHosts&amp;#34;:%20&amp;#34;*&amp;#34;,%20&amp;#34;ConnectionStrings&amp;#34;:%20%7b%20&amp;#34;Database&amp;#34;:%20&amp;#34;Host=db:5432;Database=gzctf;Username=postgres;Password=@glj20030528&amp;#34;,%20//%20%e6%ad%a4%e5%a4%84Password%e5%86%85%e5%ae%b9%e5%8f%af%e4%bb%a5%e8%87%aa%e5%ae%9a%e4%b9%89%ef%bc%88%e5%ae%89%e5%85%a8%e8%b5%b7%e8%a7%81%ef%bc%8c%e8%87%b3%e5%b0%91%e5%8c%85%e5%90%ab%e6%95%b0%e5%ad%97%e5%8f%8a%e5%ad%97%e6%af%8d%e5%a4%a7%e5%b0%8f%e5%86%99%ef%bc%89%20%e2%80%a6&amp;source=https://easyctf-one.github.io/" target=_blank rel="noopener noreferrer" title=搭建CTF平台><div class="share-icon icon icon-qq"></div></a><a href=javascript:; title=搭建CTF平台><div class="share-icon icon icon-weixin"><div id=share-weixin><div class=share-weixin-dom><div class=share-weixin-content><img id=share-weixin-banner><div id=share-weixin-title></div><div id=share-weixin-desc></div></div><div class=share-weixin-qrcode><div class=share-weixin-info><div id=share-weixin-author></div><div id=share-weixin-theme>Powered By hugo-theme-reimu</div></div><img id=share-weixin-qr></div></div><div class=share-weixin-canvas></div></div></div></a></div><ul class=article-tag-list itemprop=keywords></ul></footer></div><nav id=article-nav data-aos=fade-up><div class="article-nav-link-wrap article-nav-link-right"><img data-src=https://d-sketon.top/img/_backwebp/bg1.webp data-sizes=auto alt=Web安全 class=lazyload>
<a href=https://easyctf-one.github.io/post/web%E5%AE%89%E5%85%A8/></a><div class=article-nav-caption>后一篇</div><h3 class=article-nav-title>Web安全</h3></div></nav></article></section></div><footer id=footer><div style=width:100%;overflow:hidden><div class=footer-line></div></div><div id=footer-info><div><span class=icon-copyright></span>
2020 -
2025
<span class="footer-info-sep rotate"></span>
EasyCTF</div><div>基于&nbsp;<a href=https://gohugo.io/ target=_blank>Hugo</a>&nbsp; Theme.<a href=https://github.com/D-Sketon/hugo-theme-reimu target=_blank>Reimu</a></div><div><span class=icon-brush>&nbsp;
2.7k
</span>&nbsp;|&nbsp;
<span class=icon-coffee>&nbsp;
00:15</span></div><div><span class=icon-eye></span>
<span id=busuanzi_container_site_pv>总访问量&nbsp;<span id=busuanzi_value_site_pv></span></span>
&nbsp;|&nbsp;
<span class=icon-user></span>
<span id=busuanzi_container_site_uv>总访客量&nbsp;<span id=busuanzi_value_site_uv></span></span></div></div></footer><div class=sidebar-top><div class="sidebar-top-taichi rotate"></div><div class=arrow-up></div></div><div id=mask class=hide></div></div><nav id=mobile-nav><div class=sidebar-wrap><div class=sidebar-toc-sidebar><div class=sidebar-toc><h3 class=toc-title>文章目录</h3><div class="sidebar-toc-wrapper toc-div-class"><nav id=TableOfContents><ul><li><a href=#gzctf>GZCTF</a></li><li><a href=#出题>出题</a></li></ul></nav></div></div></div><div class="sidebar-common-sidebar hidden"><div class=sidebar-author><img data-src=/avatar/avatar.png data-sizes=auto alt=EasyCTF class=lazyload><div class=sidebar-author-name>EasyCTF</div><div class=sidebar-description>Learning CTF...</div></div><div class=sidebar-state><div class=sidebar-state-article><div>文章</div><div class=sidebar-state-number>5</div></div><div class=sidebar-state-category><div>分类</div><div class=sidebar-state-number>0</div></div><div class=sidebar-state-tag><div>标签</div><div class=sidebar-state-number>0</div></div></div><div class=sidebar-social></div><div class=sidebar-menu><div class=sidebar-menu-link-wrap><a class=sidebar-menu-link-dummy href=/ aria-label=首页></a><div class='sidebar-menu-icon icon rotate'>&#xe62b;</div><div class=sidebar-menu-link>首页</div></div><div class=sidebar-menu-link-wrap><a class=sidebar-menu-link-dummy href=/archives aria-label=归档></a><div class='sidebar-menu-icon icon rotate'>&#xe62b;</div><div class=sidebar-menu-link>归档</div></div><div class=sidebar-menu-link-wrap><a class=sidebar-menu-link-dummy href=/about aria-label=关于></a><div class='sidebar-menu-icon icon rotate'>&#xe62b;</div><div class=sidebar-menu-link>关于</div></div><div class=sidebar-menu-link-wrap><a class=sidebar-menu-link-dummy href=/friend aria-label=友链></a><div class='sidebar-menu-icon icon rotate'>&#xe62b;</div><div class=sidebar-menu-link>友链</div></div></div></div></div><div class=sidebar-btn-wrapper><div class="sidebar-toc-btn current"></div><div class=sidebar-common-btn></div></div></nav></div><div class=site-search><div class="reimu-popup popup"><div class=reimu-search><div class=reimu-search-input-icon></div><div class=reimu-search-input id=reimu-search-input></div><div class=popup-btn-close></div></div><div class=reimu-results><div id=reimu-stats></div><div id=reimu-hits></div><div id=reimu-pagination class=reimu-pagination></div></div><img class=reimu-bg src=/images/reimu.png></div></div><script src=https://npm.webcache.cn/lazysizes@5.3.2/lazysizes.min.js integrity=sha384-3gT/vsepWkfz/ff7PpWNUeMzeWoH3cDhm/A8jM7ouoAK0/fP/9bcHHR5kHq2nf+e crossorigin=anonymous></script><script src=https://npm.webcache.cn/clipboard@2.0.11/dist/clipboard.min.js integrity=sha384-J08i8An/QeARD9ExYpvphB8BsyOj3Gh2TSh1aLINKO3L0cMSH2dN3E22zFoXEi0Q crossorigin=anonymous></script><script src=/js/main.js integrity crossorigin=anonymous></script><script src=/js/aos.js integrity crossorigin=anonymous></script><script>var aosInit=()=>{AOS.init({duration:1e3,easing:"ease",once:!0,offset:50})};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",aosInit):aosInit()</script><script src=/js/pjax_main.js integrity crossorigin=anonymous data-pjax></script><script>var ALGOLIA_CONFIG={logo:"/images/algolia_logo.svg",algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:parseInt("10")},labels:{input_placeholder:"搜索.....",hits_empty:"未发现与 「${query}」相关内容",hits_stats:"找到${hits}条结果（用时 ${time} ms）"}}}</script><script src=https://npm.webcache.cn/algoliasearch@4.17.1/dist/algoliasearch-lite.umd.js defer integrity=sha384-xvLS0jfKuoREs7pqkRI/OI8GcqohO5S+jQz7ZBtQXnsXmD+9jDOOY4cL6dCPzlrk crossorigin=anonymous></script><script src=https://npm.webcache.cn/instantsearch.js@4.56.1/dist/instantsearch.production.min.js defer integrity=sha384-hHJCflT4KBLQyHfKO9vpstIcFKn/Y+KHTORelMMEn7mOp2AVPp+7fr03dLgZiV3J crossorigin=anonymous></script><script src=/js/algolia_search.js integrity crossorigin=anonymous></script><script src=https://npm.webcache.cn/mouse-firework@0.0.6/dist/index.umd.js integrity=sha384-vkGvf25gm1C1PbcoD5dNfc137HzNL/hr1RKA5HniJOaawtvUmH5lTVFgFAruE9Ge crossorigin=anonymous></script><script>if(window.firework){const e=JSON.parse('{"excludeelements":["a","button"],"particles":[{"colors":["#ff5252","#ff7c7c","#ffafaf","#ffd0d0"],"duration":[1200,1800],"easing":"easeOutExpo","move":["emit"],"number":20,"shape":"circle","shapeOptions":{"alpha":[0.3,0.5],"radius":[16,32]}},{"colors":["#ff0000"],"duration":[1200,1800],"easing":"easeOutExpo","move":["diffuse"],"number":1,"shape":"circle","shapeOptions":{"alpha":[0.2,0.5],"lineWidth":6,"radius":20}}]}');e.excludeElements=e.excludeelements,delete e.excludeelements,window.firework(e)}</script><div id=lazy-script><div><script data-pjax>window.REIMU_POST={author:"EasyCTF",title:"搭建CTF平台",url:"https://easyctf-one.github.io/post/%E6%90%AD%E5%BB%BActf%E5%B9%B3%E5%8F%B0/",description:` GZCTF 在当前文件夹下（就是你GZCTF靶场的配置目录），创建 appsettings.json：
vim appsettings.json
{ &#34;AllowedHosts&#34;: &#34;*&#34;, &#34;ConnectionStrings&#34;: { &#34;Database&#34;: &#34;Host=db:5432;Database=gzctf;Username=postgres;Password=@glj20030528&#34;, // 此处Password内容可以自定义（安全起见，至少包含数字及字母大小写） …`,cover:"https://easyctf-one.github.io/images/banner.jpg"}</script><script src=/js/insert_highlight.js integrity crossorigin=anonymous data-pjax></script><script type=module data-pjax>
        const PhotoSwipeLightbox = (await safeImport("https:\/\/npm.webcache.cn\/photoswipe@5.4.4\/dist\/photoswipe-lightbox.esm.min.js", "sha384-DiL6M\/gG\u002bwmTxmCRZyD1zee6lIhawn5TGvED0FOh7fXcN9B0aZ9dexSF\/N6lrZi\/")).default;

        const pswp = () => {
          if (_$$('.article-entry a.article-gallery-item').length > 0) {
            new PhotoSwipeLightbox({
              gallery: '.article-entry',
              children: 'a.article-gallery-item',
              pswpModule: () => safeImport("https:\/\/npm.webcache.cn\/photoswipe@5.4.4\/dist\/photoswipe.esm.min.js", "sha384-WkkO3GCmgkC3VQWpaV8DqhKJqpzpF9JoByxDmnV8\u002boTJ7m3DfYEWX1fu1scuS4\u002bs")
            }).init();
          }
          if(_$$('.article-gallery a.article-gallery-item').length > 0) {
            new PhotoSwipeLightbox({
              gallery: '.article-gallery',
              children: 'a.article-gallery-item',
              pswpModule: () => safeImport("https:\/\/npm.webcache.cn\/photoswipe@5.4.4\/dist\/photoswipe.esm.min.js", "sha384-WkkO3GCmgkC3VQWpaV8DqhKJqpzpF9JoByxDmnV8\u002boTJ7m3DfYEWX1fu1scuS4\u002bs")
            }).init();
          }
          window.lightboxStatus = 'done';
          window.removeEventListener('lightbox:ready', pswp);
        }
        if(window.lightboxStatus === 'ready') {
          pswp()
        } else {
          window.addEventListener('lightbox:ready', pswp);
        }
      </script><script src=https://npm.webcache.cn/qrcode@1.4.4/build/qrcode.min.js defer data-pjax integrity=sha384-0RsG1yo/crf/1Qc14sho26SXXOTngNCjgJw7fuvXBt9W/OChF/Ijx+aUuBDqQwEk crossorigin=anonymous></script><script src=https://npm.webcache.cn/html-to-image@1.11.11/dist/html-to-image.js defer data-pjax integrity=sha384-UbfRVKN3/elS1r7JcK2FhmPP+KlJ4CvYwbyYD7tH+uTkbT9bNJr9eJeQ0FoFbAgz crossorigin=anonymous></script></div></div><script src=https://npm.webcache.cn/busuanzi@2.3.0/bsz.pure.mini.js async integrity=sha384-0M75wtSkhjIInv4coYlaJU83+OypaRCIq2SukQVQX04eGTCBXJDuWAbJet56id+S crossorigin=anonymous></script><script>"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(e=>{for(let t of e)t.unregister()})</script><script>const reimuCopyright=String.raw`
   ______     ______     __     __    __     __  __    
  /\  == \   /\  ___\   /\ \   /\ "-./  \   /\ \/\ \   
  \ \  __<   \ \  __\   \ \ \  \ \ \-./\ \  \ \ \_\ \  
   \ \_\ \_\  \ \_____\  \ \_\  \ \_\ \ \_\  \ \_____\ 
    \/_/ /_/   \/_____/   \/_/   \/_/  \/_/   \/_____/ 
                                                    
  `;console.log(String.raw`%c ${reimuCopyright}`,"color: #ff5252;"),console.log("%c Theme.Reimu %c https://github.com/D-Sketon/hugo-theme-reimu ","color: white; background: #ff5252; padding:5px 0;","padding:4px;border:1px solid #ff5252;")</script></body></html>